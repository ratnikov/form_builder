Dirty extract from the project. Hope to make it to a real plugin soon!

-- Dmitry (ratnikov@gmail.com)
